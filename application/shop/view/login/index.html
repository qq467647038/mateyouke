<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>孝笑好电商管理平台</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="__PUBLIC__/admin/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="__PUBLIC__/admin/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="__PUBLIC__/admin/css/style.css?v=4.1.0" rel="stylesheet">
    <link href="__PUBLIC__/admin/css/login.css" rel="stylesheet">
    <script src="__PUBLIC__/admin/js/jquery.min.js?v=2.1.4"></script>
    <!--[if lt IE 9]>
    <meta http-equiv="refresh" content="0;ie.html" />
    <![endif]-->
    <script>
        if (window.top !== window.self) {
            window.top.location = window.location;
        }
    </script>
    <style>
        input.error{
            border:1px solid red;
        }
        span.error{
            padding-top:10px;
            color: #f00;
            font-size:12px;
        }
        body.signin{
            background:url("__PUBLIC__/admin/img/f-backstage-a.jpg") no-repeat center fixed;
            background-size: 100% 100%;
            height: auto;
        }
        .backStagea{
            width: 825px;
            margin: 0 auto;
            margin-top: 150px;
        }
        .backStageb{
            width: 100%;
            height: 100%;
            height: 350px;
            display: flex;
            flex-wrap: wrap;
            /*justify-content:center;*/
        }
        .backStagec{
            width: 100%;
            height: 115px;
            background:url("__PUBLIC__/admin/img/f-backstage-b.png-c.png") no-repeat center center;
            /*background-size: 100% 100%;*/
        }
        .backStaged{
            width: 510px;
            height: 350px;
            background:url("__PUBLIC__/admin/img/f-backstage-b.png") no-repeat;
            background-size: 100% 100%;
        }
        .backStagee{
            display: flex;
            margin-top: 30px;
            position: relative;
        }
        .backStagef{
            width: 260px;
            height: 315px;
            position: absolute;
            /* top: 100px; */
            background: #fff;
            right: -208px;
            top: 16px;
            border-radius:0 10px 10px 0;
        }
        .backStageg{
            color: #474747;
            font-size: 22px;
            line-height: 30px;
            margin-top: 25px;
            letter-spacing: 2px;
        }
        .backStageg>span{
            font-size: 24px;
        }
        .backStageh{
            width: 80%;
            margin: 0 auto;
            border:none;
            border-bottom: 1px #e5e6e7 solid;
            padding-left: 35px;
            background:url("__PUBLIC__/admin/img/z-backstage-ren.png")no-repeat 12px center;
        }
        .backStagei{
            width: 80%;
            margin: 0 auto;
            border:none;
            border-bottom: 1px #e5e6e7 solid;
            padding-left: 35px;
            background:url("__PUBLIC__/admin/img/z-backstage-suo.png")no-repeat 12px center;
        }
        .backStagej{
            width: 80%;
            height: 40px;
            border-radius:10px;
            border: none;
            outline:none;
            background: url("__PUBLIC__/admin/img/z-backstage-c.png")no-repeat;
            background-size: 100% 100%;
            position: absolute;
            left: 30px;
            bottom: 40px;
        }
        .backStagek{
            color: #a72bcc;
            text-decoration:underline;
            font-size: 14px;
            position: absolute;
            left: 95px;
            bottom: 15px;

        }
        .backStagek:hover{
            color: #a72bcc;
        }

    </style>
</head>
<script>
var loginUrl = "{:url('login/index')}";
var url = "{:url('index/index')}";
</script>
<body class="signin">
<div class=" text-center loginscreen  animated fadeInDown backStagea">
    <ul class="backStageb">
        <li class="backStagec"></li>
        <li>
            <ul class="backStagee">
                <li class="backStaged"><li>
                <li class="backStagef">
                    <div>
                        <h3 class="backStageg"><span>欢迎登录</span></br>商家管理系统</h3>
                        <form class="m-t" method="post" id="form">
                            <div class="form-group">
                                <input type="text" class="form-control uname backStageh" name="phone" placeholder="请输入用户名" />
                            </div>
                            <div class="form-group">
                                <input type="password" class="form-control pword m-b backStagei" name="password" placeholder="请输入密码" />

                            </div>
                            <button type="submit" class="backStagej"></button>
<!--                            <a href="{:url('login/findpwd')}" class="backStagek">忘记密码了？</a>-->
                        </form>
                    </div>
                </li>
            </ul>
        </li>
    </ul>
</div>

    <!--<div class="signinpanel backStagea">-->
        <!--<div class="row">-->
            <!--<div class="col-sm-5">-->
                <!--<form class="m-t" method="post" id="form">-->
                    <!--<h2><span>欢迎登录</span><br>商家管理系统</h2>-->
                    <!--<input type="text" class="form-control uname" name="phone" placeholder="请输入用户名" />-->
                    <!--<input type="password" class="form-control pword m-b" name="password" placeholder="请输入密码" />-->
                    <!--<button type="submit" class="btn btn-success btn-block">登录</button>-->
                    <!--<a href="{:url('login/findpwd')}">忘记密码了？</a>-->
                <!--</form>-->
            <!--</div>-->
        <!--</div>-->

    <!--</div>-->


    <!-- 全局js -->
    <script src="__PUBLIC__/admin/js/plugins/layer/layer.min.js"></script>
    <script src="__PUBLIC__/admin/js/plugins/validate/jquery.validate.min.js"></script>
    <script src="__PUBLIC__/admin/js/bootstrap.min.js?v=3.3.6"></script>
    <script src="__PUBLIC__/admin/js/common/ajax.js"></script>

    <script>
    $(function(){

		//手机号验证
    	jQuery.validator.addMethod("phone", function(value, element){
    	    var tel = /^1[3456789]\d{9}$/;
    	    return this.optional(element) || (tel.test(value));
    	}, "手机格式不正确");

    	var icon = "<i class='fa fa-times-circle'></i>&nbsp;&nbsp;";
    	$('#form').validate({
    		errorElement : 'span',
        	debug: true,//只验证不提交表单
        	//layer ajax提交表单
            submitHandler:function(){
               // 序列化 表单数据 后提交 ，太简洁了
                layer.load(2);
				$.ajax({
					url:loginUrl,
					type:'POST',
					data:$('#form').serialize(),
					dataType:'json',
					success:function(data){
						if(data.status == 1){
							layer.closeAll('loading');
				        	layer.msg(data.mess, {icon: 1,time: 1000},function(){
				                cl();
				         	});
						}else if(data.status == 2){
							layer.closeAll('loading');
				        	layer.msg(data.mess, {icon: 1,time: 1000},function(){
	                            location.href="{:url('apply_info/index')}"
				         	});
						}else if(data.status == 3){
							layer.closeAll('loading');
				        	layer.msg(data.mess, {icon: 1,time: 1000},function(){
	                            location.href="{:url('apply_info/dengdai')}"
				         	});
						}else if(data.status == 4){
							layer.closeAll('loading');
				        	layer.msg(data.mess, {icon: 1,time: 1000},function(){
	                            location.href="{:url('apply_info/tongguo')}"
				         	});
						}else if(data.status == 5){
							layer.closeAll('loading');
				        	layer.msg(data.mess, {icon: 1,time: 1000},function(){
	                            location.href="{:url('apply_info/jujue')}"
				         	});
						}else{
							layer.closeAll('loading');
							layer.msg(data.mess, {icon: 2,time: 2000});
						}
					},
			        error:function(){
			        	layer.closeAll('loading');
			        	layer.msg('操作失败或您没有权限，请重试', {icon: 2,time: 2000});
			        }
				});
            },//这是关键的语句，配置这个参数后表单不会自动提交，验证通过之后会去调用的方法

        	rules:{
        		phone:{
        			required:true,
        			phone:true
        	    },
        		password:{required:true},
        	},

        	messages:{
                phone:{
                	required:icon+'必填',
                	phone:icon+'手机号格式不正确'
                },
                password:{required:icon+'必填'},
        	}
    	});
    });

    function cl(){
    	location.href=url;
    }
    </script>
</body>

</html>
